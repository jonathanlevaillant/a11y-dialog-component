!function e(t,i,s){function n(a,o){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return n(i||e)},d,d.exports,e,t,i,s)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){n=!0,r=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();var r,a,o,l,c,d,u,h=(r={pageClassName:"js-page",inertLayersClassName:"js-inert-layer",disabledPageClassName:"is-inactive"},a=9,o=13,l=27,c=["[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.trigger=t.trigger,this.dialog=document.getElementById(t.dialog),this.dismissTriggers=this.dialog.querySelectorAll("[data-dismiss]"),this.focusableElements=this.dialog.querySelectorAll(c);var i=s(this.focusableElements,1);this.firstFocusableElement=i[0],this.lastFocusableElement=this.focusableElements[this.focusableElements.length-1];var n=document.getElementsByClassName(t.pageClassName),r=s(n,1);this.page=r[0],this.inertLayers=document.getElementsByClassName(t.inertLayersClassName),this.disabledPageClassName=t.disabledPageClassName,this.isNested=t.isNested,this.isOpen=t.isOpen,this.open=this.open.bind(this),this.close=this.close.bind(this),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.isOpen&&this.open()}return n(e,[{key:"focusTrap",value:function(e){e.shiftKey&&e.target===this.firstFocusableElement&&(e.preventDefault(),this.lastFocusableElement.focus()),e.shiftKey||e.target!==this.lastFocusableElement||(e.preventDefault(),this.firstFocusableElement.focus())}},{key:"setFocus",value:function(){var e=this;this.focusableElements.length>0&&window.setTimeout(function(){e.firstFocusableElement.focus()},100)}},{key:"open",value:function(e){e&&e.preventDefault(),this.dialog.removeAttribute("aria-hidden"),this.isNested||(this.page.classList.add(this.disabledPageClassName),Array.prototype.forEach.call(this.inertLayers,function(e){e.setAttribute("aria-hidden",!0),e.setAttribute("inert","")})),this.setFocus(),this.addEventListeners()}},{key:"close",value:function(e){e&&e.preventDefault(),this.dialog.setAttribute("aria-hidden",!0),this.isNested||(this.page.classList.remove(this.disabledPageClassName),Array.prototype.forEach.call(this.inertLayers,function(e){e.removeAttribute("aria-hidden"),e.removeAttribute("inert")})),this.trigger&&this.trigger.focus(),this.removeEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this.dialog.addEventListener("click",this.onClick),this.dialog.addEventListener("touchstart",this.onClick),this.dialog.addEventListener("keydown",this.onKeydown),this.dismissTriggers.forEach(function(t){t.addEventListener("click",e.close)})}},{key:"removeEventListeners",value:function(){var e=this;this.dialog.removeEventListener("click",this.onClick),this.dialog.removeEventListener("touchstart",this.onClick),this.dialog.removeEventListener("keydown",this.onKeydown),this.dismissTriggers.forEach(function(t){t.removeEventListener("click",e.close)})}},{key:"onClick",value:function(e){e.target===this.dialog&&this.close(e)}},{key:"onKeydown",value:function(e){e.which===l&&this.close(e),e.which===o&&e.target.hasAttribute("data-dismiss")&&this.close(e),e.which===a&&this.focusTrap(e)}},{key:"render",value:function(){var e=this;this.trigger&&(this.trigger.addEventListener("click",this.open),this.trigger.addEventListener("keydown",function(t){t.which===o&&e.open(t)}))}}]),e}(),u=null,{open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=Object.assign({},r,t);i.dialog=e,i.trigger=!!t.trigger&&document.getElementById(t.trigger),i.isNested=t.isNested||!1,i.isOpen=!0,(u=new d(i)).render()},close:function(){u.close()},render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-component="dialog"]',t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=document.querySelectorAll(e),s=Object.assign({},r,t);i.forEach(function(e){s.trigger=e,s.dialog=e.dataset.target,s.isNested="true"===e.dataset.nested,s.isOpen="true"===e.dataset.open,new d(s).render()})}});i.default=h},{}]},{},[1]);
//# sourceMappingURL=a11y-dialog-component.min.js.map
